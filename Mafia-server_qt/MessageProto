Это наш протокол сообщений.
Как будет работать наш псевдо-tcp:
Сообщение будет обернуто в несколько дополнительных байт:
Первый 1 байт – ключ комнаты, который генерится при входе в комнату и передается клиенту.
Затем 2 байта – id сообщения. Что именно мы передаем – роль, или картинку, или голос какой-нибудь.
Затем сообщение.
Затем 4 байта (unsigned int) - контрольная сумма. Контрольная сумма у нас будет считаться, как сумма всех байт, преобразованных в char. То есть в сообщении “co” контрольная сумма = 99 + 111 = 210

Если клиент или сервер получает сообщение, в котором контрольная сумма не сходится, значит сообщение было деформировано, значит надо переотправить. Тогда получатель отправляет сообщение вида «не пришло сообщение с данными \id\» и отправляет его пока не придет следующее такое сообщение. Отправитель бездействует, пока не получит сообщение о неприходе.

Соответственно, мы назначаем id для сообщений. Например, роль - 1, изображение - 2, аудио - 3, голос - 4 и т.д.
